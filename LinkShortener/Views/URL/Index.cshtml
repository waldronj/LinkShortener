@model IEnumerable<LinkShortener.Models.LinkShortenerModel>
@{
    ViewBag.Title = "URL Shortener";
}

<h2 id="jsonMe">Create</h2>
@using (Html.BeginForm("Create", "URL"))
{
    <div class="row-fluid">
        <div class="span11 offset1">
            <div class="span3">
                <label>Site Name:</label>
                <input type="text" name="siteName" class="input-xlarge"/>
            </div>
        </div>
    </div>
    <div class="row-fluid">
        <div class="span11 offset1">
            <div class="span3">
                <label>URL:</label>
                <input type="text" name="url" class="input-xlarge"/>
            </div>
        </div>
    </div>
    <div class="row-fluid">
        <div class="span11 offset1">
            <div class="span3">
                <label>Description</label>
                <textarea name="description" class="input-xlarge"></textarea>
            </div>
        </div>
    </div>
    <div class="row-fluid">
        <div class="span11 offset1">
            <div class="span2">
                <input type="submit" class="btn btn-primary" />
            </div>
        </div>
    </div>
}

<table class="table table-hover" id="Links">
        <thead>
            <tr id="sortLinks">
                <th><a href="#">Site Name</a></th>
                <th><a href="#">Short URL</a></th>
                <th><a href="#">Original URL</a></th>
                <th><a href="#">Description</a></th>
            </tr>
        </thead>
        <tbody>    
        @foreach (var item in Model)
        {
            <tr >
                <td>@item.Name </td>
                <td><a href="/url/s/@item.ShortURL" target="_blank">l.thejwal.com/url/s/@item.ShortURL</a></td>
                <td><a href="@item.URL">@item.URL</a></td>
                <td>@item.Description</td>
            </tr>
            
        }
    </tbody>
</table>

@section Scripts
{
    <script>
        $(document).ready(function () {
            $('#Links').dataTable({
                "aaSorting": [[4, "desc"]]
            });
        });
        $('#sortLinks a').on('click', function() {
            $('a').preventDefault();
        });
    </script>
}
